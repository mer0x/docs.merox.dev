# Proxmox LXCs

Containers are a lightweight alternative to fully virtualized machines (VMs). They use the kernel of the host system that they run on, instead of emulating a full operating system (OS). This means that containers can access resources on the host system directly.

The runtime costs for containers is low, usually negligible. However, there are some drawbacks that need be considered:

Only Linux distributions can be run in Proxmox Containers. It is not possible to run other operating systems like, for example, FreeBSD or Microsoft Windows inside a container.

!!! danger
    For security reasons, access to host resources needs to be restricted. Therefore, containers run in their own separate namespaces. Additionally some syscalls (user space requests to the Linux kernel) are not allowed within containers.




!!! info "LXCs configurations on 3 nodes Proxmox Cluster"

    === "Citadel"

        ###### **K3S-master-01**

        ```bash
        root@citadel:/home/merox# cat /etc/pve/nodes/citadel/lxc/301.conf
        ```

        ``` bash linenums="1"
        arch: amd64
        cores: 4
        features: fuse=1
        hostname: k3s-master-01
        memory: 4096
        net0: name=eth0,bridge=vmbr0,firewall=1,hwaddr=FC:14:11:E0:A7:02,ip=dhcp,type=veth
        onboot: 1
        ostype: ubuntu
        rootfs: Storage:subvol-301-disk-1,size=50G
        swap: 0
        lxc.apparmor.profile: unconfined
        lxc.cgroup.devices.allow: a
        lxc.cap.drop: 
        lxc.mount.auto: "proc:rw sys:rw"
        ```

    === "Helix"


        ###### K3S-master-02
        ```bash
        root@helix:/etc/pve/nodes/helix/lxc# cat /etc/pve/nodes/helix/lxc/302.conf 
        ```
        ``` bash linenums="1"
        arch: amd64
        cores: 4
        features: fuse=1
        hostname: k3s-master-02
        memory: 4096
        net0: name=eth0,bridge=vmbr0,firewall=1,hwaddr=BC:24:11:3A:A1:2A,ip=dhcp,type=veth
        onboot: 1
        ostype: ubuntu
        rootfs: Storage:subvol-302-disk-1,size=50G
        swap: 0
        lxc.apparmor.profile: unconfined
        lxc.cgroup.devices.allow: a
        lxc.cap.drop: 
        lxc.mount.auto: "proc:rw sys:rw"
        ```

        ###### Ansible
        ```bash
        root@helix:/etc/pve/nodes/helix/lxc# cat 100.conf 
        ```
        ``` bash linenums="1"
        arch: amd64
        cores: 2
        features: nesting=1
        hostname: ansible
        memory: 1024
        nameserver: 10.57.57.1
        net0: name=eth0,bridge=vmbr0,firewall=1,gw=10.57.57.1,hwaddr=92:9C:BD:89:57:E1,ip=10.57.57.113/24,type=veth
        onboot: 1
        ostype: debian
        rootfs: Storage:subvol-100-disk-0,size=32G
        searchdomain: merox.cloud
        swap: 1024
        tags: docker;intern;linux
        ```

        ###### Alto ( docker )
        ```bash
        root@helix:/etc/pve/nodes/helix/lxc# cat 102.conf 
        ```
        ``` bash linenums="1"
        #For cloning
        arch: amd64
        cores: 2
        features: mount=nfs,nesting=1
        hostname: alto
        memory: 3072
        nameserver: 10.57.57.1
        net0: name=eth0,bridge=vmbr0,firewall=1,gw=10.57.57.1,hwaddr=E6:B3:3E:64:D2:CA,ip=10.57.57.56/24,type=veth
        onboot: 1
        ostype: debian
        rootfs: Storage:subvol-102-disk-1,size=50G
        swap: 512
        tags: container;intern;linux
        lxc.cap.drop: 
        ```


    === "Nexus"

        ###### K3S-master-03
        ```bash
        root@nexus:~# cat /etc/pve/nodes/nexus/lxc/303.conf 
        ```
        ``` bash linenums="1"
        arch: amd64
        cores: 4
        features: fuse=1
        hostname: k3s-master-03
        memory: 4096
        net0: name=eth0,bridge=vmbr0,firewall=1,hwaddr=FC:14:11:21:50:3B,ip=dhcp,type=veth
        onboot: 1
        ostype: ubuntu
        rootfs: Storage:subvol-303-disk-0,size=50G
        swap: 0
        lxc.apparmor.profile: unconfined
        lxc.cgroup.devices.allow: a
        lxc.cap.drop: 
        lxc.mount.auto: "proc:rw sys:rw"
        ```
        ###### K3S-admin
        ```bash
        root@nexus:~# cat /etc/pve/nodes/nexus/lxc/300.conf 
        ```
        ```bash #
        arch: amd64
        cores: 4
        features: fuse=1
        hostname: k3s-admin
        memory: 4096
        net0: name=eth0,bridge=vmbr0,firewall=1,hwaddr=E4:14:11:68:C2:D6,ip=dhcp,type=veth
        onboot: 1
        ostype: ubuntu
        rootfs: Storage:subvol-300-disk-1,size=50G
        swap: 0
        lxc.apparmor.profile: unconfined
        lxc.cgroup.devices.allow: a
        lxc.cap.drop: 
        lxc.mount.auto: "proc:rw sys:rw"
        ```